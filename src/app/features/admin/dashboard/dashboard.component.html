<div class="dashboard">
  <!-- Header -->
  <div class="page-header">
    <div>
      <h2>{{ getGreeting() }}, {{ username }}! ğŸ‘‹</h2>
      <p class="text-muted">Here's what's happening in your organization today.</p>
    </div>
    <div class="header-actions">
      <a routerLink="/admin/employees/new" class="btn btn-primary">+ Add Employee</a>
    </div>
  </div>

  <!-- Stats Cards -->
  <div class="stats-grid">
    <div class="stat-card blue">
      <div class="stat-icon">ğŸ‘¥</div>
      <div class="stat-info">
        <div class="stat-number">{{ stats.employees }}</div>
        <div class="stat-label">Total Employees</div>
      </div>
      <a routerLink="/admin/employees" class="stat-link">View all â†’</a>
    </div>

    <div class="stat-card green">
      <div class="stat-icon">ğŸ¢</div>
      <div class="stat-info">
        <div class="stat-number">{{ stats.departments }}</div>
        <div class="stat-label">Departments</div>
      </div>
      <a routerLink="/admin/departments" class="stat-link">Manage â†’</a>
    </div>

    <div class="stat-card orange">
      <div class="stat-icon">ğŸ“‹</div>
      <div class="stat-info">
        <div class="stat-number">{{ stats.attendance }}</div>
        <div class="stat-label">Attendance Records</div>
      </div>
      <a routerLink="/admin/attendance" class="stat-link">View all â†’</a>
    </div>

    <div class="stat-card purple">
      <div class="stat-icon">ğŸ’°</div>
      <div class="stat-info">
        <div class="stat-number">{{ stats.salaries }}</div>
        <div class="stat-label">Salary Records</div>
      </div>
      <a routerLink="/admin/salaries" class="stat-link">View all â†’</a>
    </div>
  </div>

  <!-- Quick Actions -->
  <div class="section-row">
    <div class="card-panel flex-2">
      <div class="panel-header">
        <h5>Recent Employees</h5>
        <a routerLink="/admin/employees" class="view-all">View All</a>
      </div>
      <div *ngIf="loading" class="text-center py-4">
        <div class="spinner-border text-primary"></div>
      </div>
      <table class="mini-table" *ngIf="!loading">
        <thead>
          <tr><th>Name</th><th>Email</th><th>Department</th><th>Status</th></tr>
        </thead>
        <tbody>
          <tr *ngFor="let e of recentEmployees">
            <td class="fw-semibold">{{ e.name }}</td>
            <td class="text-muted">{{ e.email }}</td>
            <td><span class="badge-dept">{{ e.departmentName }}</span></td>
            <td>
              <span class="status-dot" [class.active]="e.isActive" [class.inactive]="!e.isActive">
                {{ e.isActive ? 'Active' : 'Inactive' }}
              </span>
            </td>
          </tr>
          <tr *ngIf="recentEmployees.length === 0">
            <td colspan="4" class="text-center text-muted py-3">No employees yet.</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="card-panel flex-1">
      <div class="panel-header"><h5>Quick Actions</h5></div>
      <div class="quick-actions">
        <a routerLink="/admin/employees/new" class="action-btn blue">
          <span>â•</span> Add Employee
        </a>
        <a routerLink="/admin/departments" class="action-btn green">
          <span>ğŸ¢</span> Manage Departments
        </a>
        <a routerLink="/admin/attendance" class="action-btn orange">
          <span>ğŸ“‹</span> Mark Attendance
        </a>
        <a routerLink="/admin/salaries" class="action-btn purple">
          <span>ğŸ’°</span> Manage Salaries
        </a>
        <a routerLink="/admin/users" class="action-btn dark">
          <span>ğŸ”‘</span> Manage Users
        </a>
      </div>
    </div>
  </div>
</div>
